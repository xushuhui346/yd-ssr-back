"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var glob = require("glob");
var state_util_1 = require("./state-util");
/**
 * Finds classes using the specified pattern and options.
 *
 * @param pattern Glob pattern
 * @param opts Glob options
 */
function findControllers(pattern, opts) {
    var result = glob.sync(pattern, opts);
    return result
        .map(function (path) {
        var required = require(path);
        // Support default exports (ES6).
        if (required.default) {
            required = required.default;
        }
        return state_util_1.getStateAndTarget(required);
    })
        .filter(function (x) { return x !== null; });
}
exports.findControllers = findControllers;
//# sourceMappingURL=find-controllers.js.map